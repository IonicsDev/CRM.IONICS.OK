(function($){$.genyxAdmin=function(options){return $.fn.genyxAdmin(options)};$.fn.genyxAdmin=function(options){var settings={fixedWidth:!1,customScroll:!1,responsiveTablesCustomScroll:!1,backToTop:!0,navigation:{useNavMore:!0,navMoreIconDown:'i-arrow-down-2',navMoreIconUp:'i-arrow-up-2',rotateIcon:!0},setCurrent:{absoluteUrl:!1,subDir:''},collapseNavIcon:'i-arrow-left-7',collapseNavRestoreIcon:'i-arrow-right-8',rememberNavState:!0,remeberExpandedSub:!1,hoverDropDown:!0,accordionIconShow:'i-arrow-down-2',accordionIconHide:'i-arrow-up-2',debug:!1,showThemer:!0};if(options){$.extend(settings,options)} var _this;var navMoreDown='<span class="more"><i class="icon16 '+settings.navigation.navMoreIconDown+'"></i></span>';var navMoreUp='<span class="more"><i class="icon16 '+settings.navigation.navMoreIconUp+'"></i></span>';var collapseNavIcon='<i class="icon16 '+settings.collapseNavIcon+'"></i>';var collapseNavRestoreIcon='<i class="icon16 '+settings.collapseNavRestoreIcon+'"></i>';var accordionIconShow='<i class="icon16 '+settings.accordionIconShow+'"></i>';var accordionIconHide='<i class="icon16 '+settings.accordionIconHide+'"></i>';_this=this;if(settings.showThemer){createThemer(localStorage.getItem('fixedWidth'));$('#themerBtn').click(function(){if($(this).hasClass('open')){$('#themer').css('right','-200px');$(this).removeClass('open')}else{$('#themer').css('right','0px');$(this).addClass('open')}});if(localStorage.getItem('fixedWidth')==1){makeFixedWidth()}else{removeFixedWidth()} $('#fixedWidth').bind('change',function(){if($(this).is(':checked')){makeFixedWidth();localStorage.setItem('fixedWidth',1)}else{removeFixedWidth();localStorage.setItem('fixedWidth',0)}})} if(settings.fixedWidth){$('html').addClass('fixedWidth');$('body').addClass('container');$('#header>.navbar-inner>.container-fluid').removeClass('container-fluid').addClass('container');$('.main').prepend('<div id="sidebarbg">')} if(settings.customScroll){$("body").niceScroll({cursoropacitymax:0.8,cursorborderradius:0,cursorwidth:"15px"})} if(settings.hoverDropDown){hoverDropDown(500)} if(settings.backToTop){if(!$('#back-to-top').length){$('body').append('<div id="back-to-top"><a href="#">Back to Top</a></div>')} backToTop()} if(settings.debug){$(window).scroll(function(){scroll=$(window).scrollTop();windowHeight=$(window).height()});$(window).resize(function(){var windowWidth=$(window).width();var windowHeight=$(window).height();var size="Window size is:"+windowWidth+" height:"+windowHeight;console.log(size)})} function mainNav(){var nav=$('#mainnav>ul');var navCurrent=nav.find('li.current');var navLink=nav.find('a');var navSub=nav.find('li>ul.sub');if(settings.navigation.useNavMore){navSub.prev('a').append(navMoreDown)} navSub.closest('li').addClass('hasSub');navSub.prev('a').addClass('notExpand');if(settings.rememberNavState){if(localStorage.getItem("collapseNav")==1){$("#collapse-nav").toggleClass('collapsing');$("#collapse-nav").text("");$("#collapse-nav").append(collapseNavRestoreIcon);$('#sidebar').toggleClass('isCollapse');$('.sidebar-widget').toggleClass('hided');$('#content').toggleClass('isCollapse');if(settings.fixedWidth||localStorage.getItem('fixedWidth')==1){$('.main').toggleClass('isCollapse')}}} if(settings.remeberExpandedSub){if(localStorage.getItem('expandedSub')){arr=JSON.parse(localStorage.getItem('expandedSub'));for(var i=0;i<arr.length;i++){navLink.each(function(index){if(arr[i]===$(this).attr('href')){ulElem=$(this).next('ul.sub');aElem=ulElem.prev('a.hasUl').addClass('drop');ulElem.addClass('expand');ulElem.addClass('show');var _this=$(this).closest('li.hasSub').children('a.notExpand');_this.removeClass('notExpand').addClass('expand');if(settings.navigation.useNavMore){_this.find('span.more').remove();_this.append(navMoreUp)}}})}}} navLink.hover(function(){if($(this).closest('li').hasClass('isCollapse')){var $this=$(this);$(this).addClass('showUp');$this.find('span.txt').addClass('showUp')} if(settings.navigation.rotateIcon){$(this).addClass('rotateIn').removeClass('rotateOut')}},function(){if($(this).closest('li').hasClass('isCollapse')){if($(this).hasClass('expand')){$(this).removeClass('showUp')}else{$(this).removeClass('showUp')} $(this).find('span.txt').removeClass('showUp')} if(settings.navigation.rotateIcon){$(this).addClass('rotateOut').removeClass('rotateIn')}});navLink.on("click",function(){var _this=$(this);if(_this.hasClass('notExpand')){_this.next('ul').slideDown(250);_this.next('ul').addClass('show');_this.addClass('expand').removeClass('notExpand');if(settings.remeberExpandedSub){var expandsub=localStorage.getItem('expandedSub');if(expandsub){if(!existInArr(_this.attr('href'))){arr=JSON.parse(expandsub);arr.push(_this.attr('href'));localStorage.setItem('expandedSub',JSON.stringify(arr))}}else{arr=[];arr.push(_this.attr('href'));localStorage.setItem('expandedSub',JSON.stringify(arr))}} if(settings.navigation.useNavMore){_this.find('span.more').remove();_this.append(navMoreUp)}}else if(_this.hasClass('expand')){_this.next('ul').removeClass('show');_this.next('ul').slideUp(250);_this.addClass('notExpand').removeClass('expand');if(settings.navigation.useNavMore){_this.find('span.more').remove();_this.append(navMoreDown)}}})} function existInArr(obj){arr=JSON.parse(localStorage.getItem('expandedSub'));for(var i=0;i<arr.length;i++){if(arr[i]===obj){return!0}} return!1} function setCurrentNav(){var domain=document.domain;var navig=$('#mainnav>ul');var navLinks=navig.find('a');if(domain===''){var pageUrl=window.location.pathname.split('/');var winLoc=pageUrl.pop();setCurrentClass(navLinks,winLoc)}else{if(settings.setCurrent.absoluteUrl){var newDomain='http://'+domain+window.location.pathname;setCurrentClass(navLinks,newDomain)}else{var afterDomain=window.location.pathname.split('/');var afterDomain=afterDomain.pop();if(settings.setCurrent.subDir!=''){var afterDomain=window.location.pathname+settings.setCurrent.subDir} setCurrentClass(navLinks,afterDomain)}}} function setCurrentClass(mainNavLinkAll,url){mainNavLinkAll.each(function(index){var href=$(this).attr('href');if(href===url){$(this).closest('li').addClass('current') ulElem=$(this).closest('ul');if(ulElem.hasClass('sub')){aElem=ulElem.prev('a.hasUl').addClass('drop');ulElem.addClass('expand');ulElem.addClass('show');var _this=$(this).closest('li.hasSub').children('a.notExpand');_this.removeClass('notExpand').addClass('expand');_this.closest('li.hasSub').addClass('current');if(settings.navigation.useNavMore){_this.find('span.more').remove();_this.append(navMoreUp)}}}else{}})} function collapseNav(){$("#collapse-nav").on("click",function(){_this=$(this);_this.toggleClass('collapsing');if(_this.hasClass('collapsing')){_this.text("");_this.append(collapseNavRestoreIcon)}else{_this.text("");_this.append(collapseNavIcon)} $('#sidebar').toggleClass('isCollapse');$('#content').toggleClass('isCollapse');$('.sidebar-widget').toggleClass('hided');if(settings.fixedWidth||localStorage.getItem('fixedWidth')==1){$('.main').toggleClass('isCollapse')} if(settings.rememberNavState){var collapse=localStorage.getItem("collapseNav");if(collapse==1){localStorage.setItem("collapseNav",0)}else{localStorage.setItem("collapseNav",1)}}})} function widgetBox(){var widget=$('.panel');var w_minimize=widget.find('.panel-heading a.minimize');var widgetClosed=$('.panel.closed');var widgetDrag=$('.panel.drag');if(widgetDrag){widgetDrag.find('.panel-heading').addClass('drag');dragWidgets()} widgetClosed.each(function(index){$(this).find('.panel-heading a.minimize').removeClass('minimize').addClass('maximize');wcontent=$(this).find('div.panel-body');wcontent.removeClass('slideDown').addClass('slideUp')});w_minimize.on('click',function(){_this=$(this);if($(this).hasClass('minimize')){$(this).removeClass('minimize').addClass('maximize').closest('div.panel-heading').next('div.panel-body').slideUp('200')}else{$(this).removeClass('maximize').addClass('minimize').closest('div.panel-heading').next('div.panel-body').slideDown('200')}})} function dragWidgets(){if($('#sort').length){$('#sort div[class*="span"]').sortable({connectWith:'#sort div[class*="span"]',handle:'.panel-heading.drag',placeholder:"sortable-placeholder",forcePlaceholderSize:!0,helper:'original',forceHelperSize:!0,cursor:"move",opacity:0.8,tolerance:"pointer"})}} function checkAll(){$('.master-check').on('click',function(){$(this).closest('.checkAll').find('input:checkbox').prop('checked',this.checked).closest('.checker>span').toggleClass('checked')});$('.select-all').on('click',function(){$(this).closest('.panel-body').find('.checkAll').find('input:checkbox').prop('checked',this.checked).closest('.checker>span').addClass('checked')});$('.deselect-all').on('click',function(){$(this).closest('.panel-body').find('.checkAll').find('input:checkbox').prop('checked',this.checked).closest('.checker>span').removeClass('checked')})} function fontFlicker(){var d=document,e=d.documentElement,s=d.createElement('style');if(e.style.MozTransform===''){s.textContent='body{visibility:hidden}';e.firstChild.appendChild(s);function f(){s.parentNode&&s.parentNode.removeChild(s)} addEventListener('load',f,!1);setTimeout(f,3000)}} function hoverDropDown(val){(function(e,t,n){e('<span class="visible-desktop" style="font-size:1px !important" id="vis">.</span>').appendTo("body");var r=function(){return e("#vis").is(":visible")},i=e();e.fn.dropdownHover=function(n){i=i.add(this.parent());return this.each(function(){var s=e(this).parent(),o={delay:500,instantlyCloseOthers:!0},u={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},a=e.extend(!0,{},o,n,u),f;s.hover(function(){if(r()){a.instantlyCloseOthers===!0&&i.removeClass("open");t.clearTimeout(f);e(this).addClass("open")}},function(){r()&&(f=t.setTimeout(function(){s.removeClass("open")},a.delay))})})};e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})})(jQuery,this);$(".dropdown-toggle").dropdownHover({delay:val})} function orientationFix(){(function(a){function j(){c.setAttribute("content",f),document.body.innerHTML=document.body.innerHTML,g=!0}function k(){c.setAttribute("content",e),g=!1}function l(b){h=Math.abs(a.orientation),i=Math.abs(b.accelerationIncludingGravity.x),i>8&&h===0?g&&k():g||j()}var b=a.document;if(!b.querySelectorAll)return;var c=b.querySelectorAll("meta[name=viewport]")[0],d=c&&c.getAttribute("content"),e=d+", maximum-scale=1.0",f=d+", maximum-scale=10.0",g=!0,h=a.orientation,i=0;if(!c)return;a.addEventListener("orientationchange",j,!1),a.addEventListener("devicemotion",l,!1)})(this)} function backToTop(){$(window).scroll(function(){if($(window).scrollTop()>200){$("#back-to-top").fadeIn(200)}else{$("#back-to-top").fadeOut(200)}});$('#back-to-top, .back-to-top').click(function(){$('html, body').animate({scrollTop:0},'800');return!1})} function respond(){var jRes=jRespond([{label:'smart',enter:0,exit:684},{label:'small',enter:0,exit:767},{label:'tablet',enter:768,exit:1024},{label:'laptop',enter:1025,exit:1280},{label:'desktop',enter:1281,exit:10000}]);jRes.addFunc({breakpoint:'desktop',enter:function(){resBtnDestroy();resBtnSearchRestore();offCanvasMenuOff();$('.chart-pie-social').css('width','50%');$('#content').removeClass('offCanvas');$("#collapse-nav").removeClass('hided');$("#top-search").removeClass('shown')},exit:function(){}});jRes.addFunc({breakpoint:'laptop',enter:function(){$('.chart-pie-social').css('width','100%');resBtnDestroy();resBtnSearchRestore();offCanvasMenuOff();$('#content').removeClass('offCanvas');$("#collapse-nav").removeClass('hided');$("#top-search").removeClass('shown')},exit:function(){$('.chart-pie-social').css('width','50%')}});jRes.addFunc({breakpoint:'tablet',enter:function(){$('.chart-pie-social').css('width','100%');resBtnSearch();resBtn();offCanvasMenuOn()},exit:function(){resBtnDestroy();resBtnSearchRestore();offCanvasMenuOff()}});jRes.addFunc({breakpoint:'small',enter:function(){resBtn();offCanvasMenuOn();responsiveTables()},exit:function(){resBtnDestroy();resBtnSearchRestore();offCanvasMenuOff();responsiveTablesOff();restoreTooltip()}});jRes.addFunc({breakpoint:'smart',enter:function(){changeTooltip();resBtn();offCanvasMenuOn();responsiveTables();$('.chart-pie-social').css('width','100%')},exit:function(){$('.chart-pie-social').css('width','50%');resBtnDestroy();offCanvasMenuOff();responsiveTablesOff();restoreTooltip()}})} function changeTooltip(){$('#bar .tipR').each(function(index){$(this).addClass('tip').removeClass('tipR')})} function restoreTooltip(){$('#bar .tip').each(function(index){$(this).addClass('tipR').removeClass('tip')})} function resBtnSearch(){$('#top-search').addClass('hide');$('#header .navbar').prepend('<a href="#" id="resBtnSearch" class="btn btn-danger"><i class="icon16 i-search-3"></i></a>');resBtnSearchClick()} function resBtnSearchRestore(){$('#header #resBtnSearch').remove();$('#top-search').removeClass('hide')} function resBtn(){$('#header .navbar').prepend('<a href="#" id="resBtn" class="btn btn-danger"><i class="icon16 i-menu-6"></i></a>');resBtnClick()} function resBtnDestroy(){$('#header #resBtn').remove()} function offCanvasMenuOn(){$('#sidebar').addClass('hided');if($('#content').hasClass('offCanvas')){$('#content').removeClass('offCanvas')} $('#content').addClass('hided');if(settings.fixedWidth||localStorage.getItem('fixedWidth')){$('#sidebarbg').addClass('hided')}} function offCanvasMenuOff(){$('#sidebar').removeClass('hided');$('#content').removeClass('hided');if(settings.fixedWidth||localStorage.getItem('fixedWidth')){$('#sidebarbg').removeClass('hided')}} function resBtnClick(){$("#resBtn").on("click",function(){$("#content").toggleClass('hided offCanvas');$("#sidebar").toggleClass('hided');$("#collapse-nav").toggleClass('hided');if(settings.fixedWidth||localStorage.getItem('fixedWidth')){$('#sidebarbg').toggleClass('hided')}})} function resBtnSearchClick(){$("#resBtnSearch").on("click",function(){$("#top-search").toggleClass('hide shown')})} function responsiveTables(){var tables=$('.table');tables.each(function(index){$(this).wrap('<div class="responsive" />')});if(settings.responsiveTablesCustomScroll){$('.responsive').niceScroll({cursoropacitymax:0.8,cursorborderradius:0,cursorwidth:"7px"})}} function responsiveTablesOff(){var tables=$('.table');tables.each(function(index){$(this).unwrap()})} function IEplaceholder(){;(function(f,h,$){var a='placeholder'in h.createElement('input'),d='placeholder'in h.createElement('textarea'),i=$.fn,c=$.valHooks,k,j;if(a&&d){j=i.placeholder=function(){return this};j.input=j.textarea=!0}else{j=i.placeholder=function(){var l=this;l.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':b,'blur.placeholder':e}).data('placeholder-enabled',!0).trigger('blur.placeholder');return l};j.input=a;j.textarea=d;k={get:function(m){var l=$(m);return l.data('placeholder-enabled')&&l.hasClass('placeholder')?'':m.value},set:function(m,n){var l=$(m);if(!l.data('placeholder-enabled')){return m.value=n}if(n==''){m.value=n;if(m!=h.activeElement){e.call(m)}}else{if(l.hasClass('placeholder')){b.call(m,!0,n)||(m.value=n)}else{m.value=n}}return l}};a||(c.input=k);d||(c.textarea=k);$(function(){$(h).delegate('form','submit.placeholder',function(){var l=$('.placeholder',this).each(b);setTimeout(function(){l.each(e)},10)})});$(f).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value=''})})}function g(m){var l={},n=/^jQueryd+$/;$.each(m.attributes,function(p,o){if(o.specified&&!n.test(o.name)){l[o.name]=o.value}});return l}function b(m,n){var l=this,o=$(l);if(l.value==o.attr('placeholder')&&o.hasClass('placeholder')){if(o.data('placeholder-password')){o=o.hide().next().show().attr('id',o.removeAttr('id').data('placeholder-id'));if(m===!0){return o[0].value=n}o.focus()}else{l.value='';o.removeClass('placeholder');l==h.activeElement&&l.select()}}}function e(){var q,l=this,p=$(l),m=p,o=this.id;if(l.value==''){if(l.type=='password'){if(!p.data('placeholder-textinput')){try{q=p.clone().attr({type:'text'})}catch(n){q=$('<input>').attr($.extend(g(this),{type:'text'}))}q.removeAttr('name').data({'placeholder-password':!0,'placeholder-id':o}).bind('focus.placeholder',b);p.data({'placeholder-textinput':q,'placeholder-id':o}).before(q)}p=p.removeAttr('id').hide().prev().attr('id',o).show()}p.addClass('placeholder');p[0].value=p.attr('placeholder')}else{p.removeClass('placeholder')}}}(this,document,jQuery));$('input, textarea').placeholder()} function retina(){(function(){function t(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function n(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var e=typeof exports=="undefined"?window:exports;e.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!!this.path.match(/^https?:/i)&&!this.path.match("//"+document.domain)},t.prototype.check_2x_variant=function(e){var n,r=this;if(this.is_external())return e(!1);if(this.at_2x_path in t.confirmed_paths)return e(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(r.at_2x_path),e(!0)):e(!1)},n.send()},e.RetinaImage=n,n.prototype.swap=function(e){function n(){t.el.complete?(t.el.setAttribute("width",t.el.offsetWidth),t.el.setAttribute("height",t.el.offsetHeight),t.el.setAttribute("src",e)):setTimeout(n,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var t=this;n()},e.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),t=[],r,i;for(r=0;r<e.length;r++)i=e[r],t.push(new n(i))})})();} function last_child(){$(".nav-tabs > li:last-child").addClass('last-child');$(".recent-activity li:last-child").addClass('last-child')} function createThemer(storage){$('body').append('<div id="themer" style="width:200px; border: 1px solid #000; background: #4e525d; padding:10px; border-radius:1px; position:fixed;top:70px;right:-200px;z-index:99999;color:#fff;">');$('#themer').append('<h3>Theme options</h3>');$('#themer').append('<ul class="list-unstyled">');if(storage==1){$('#themer ul.list-unstyled').append('<li><label class="checkbox inline"><input type="checkbox" name="fixed" id="fixedWidth" checked> Fixed version</label></li>')}else{$('#themer ul.list-unstyled').append('<li><label class="checkbox inline"><input type="checkbox" name="fixed" id="fixedWidth"> Fixed version</label></li>')} $('#themer').append('<a href="#" id="themerBtn" class="white"><i class="icon20 i-cog-2" style="margin-left:-50px;background: #4e525d;padding:8px 10px;border:1px solid #000;border-right:0;float:left;margin-top:-55px;"></i></a>')} function makeFixedWidth(){$('html').addClass('fixedWidth');$('body').addClass('container');$('#header>.navbar-inner>.container-fluid').removeClass('container-fluid').addClass('container');$('.main').prepend('<div id="sidebarbg">')} function removeFixedWidth(){$('html').removeClass('fixedWidth');$('body').removeClass('container');$('#header>.navbar-inner>div').addClass('container-fluid').removeClass('container');$('#sidebarbg').remove()} fontFlicker();mainNav();setCurrentNav();collapseNav();widgetBox();checkAll();respond();last_child() if($('html').hasClass('touch')){orientationFix()} if($('html').hasClass('retina')){retina()} if($('html').hasClass('ie9')||$('html').hasClass('ie8')){IEplaceholder()} if($('html').hasClass('ie8')){last_child()} return _this}})(jQuery)